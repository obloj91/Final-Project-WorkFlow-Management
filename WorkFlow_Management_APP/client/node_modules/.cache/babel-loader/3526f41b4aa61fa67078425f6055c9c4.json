{"ast":null,"code":"var _jsxFileName = \"/Users/oliverbloj/Documents/Concordia BootCamp/36.1 WM 5.5.2022/WorkFlow_Management_APP/client/src/components/UserLogin.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext } from \"react\";\nimport styled from \"styled-components\";\nimport backgroundImage from \"../assets/background2.png\";\nimport { NavLink, useNavigate } from \"react-router-dom\";\nimport { DataContext } from \"./DataContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nvar bcrypt = require(\"bcryptjs\");\n\nconst UserLogin = () => {\n  _s();\n\n  const {\n    allUsers,\n    loginData,\n    setLoginData,\n    setCurrentLoggedUser\n  } = useContext(DataContext);\n  let navigate = useNavigate(); //setting the name of the inputs and values as what is written inside inputs\n\n  const handleChange = (value, name) => {\n    setLoginData({ ...loginData,\n      [name]: value\n    });\n  }; //on submit we get the hashed password from DB and compare to what we inputed in the password field\n\n\n  function handleSubmit(ev) {\n    ev.preventDefault(); //prevents the page from refreshing if submit unsuccessfull\n\n    const findUser = allUsers.find(user => user.username === loginData.username);\n\n    if (findUser === undefined) {\n      window.alert(\"Invalid Username or Password!\");\n    } else {\n      bcrypt.compare(loginData.password, findUser.password, function (err, result) {\n        // result == true\n        if (findUser === undefined || result === false) {\n          window.alert(\"Invalid Username or Password!\");\n        } else {\n          setCurrentLoggedUser(findUser);\n          navigate(`/userHome/${findUser._id}`);\n        }\n      });\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Background, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(Wrapper, {\n      children: /*#__PURE__*/_jsxDEV(FormWrapper, {\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(Input, {\n          type: \"text\",\n          name: \"username\",\n          required: true,\n          placeholder: \"Username\",\n          onChange: ev => handleChange(ev.target.value, \"username\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          type: \"password\",\n          name: \"password\",\n          required: true,\n          placeholder: \"Password\",\n          onChange: ev => handleChange(ev.target.value, \"password\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(SubmitInput, {\n          type: \"submit\",\n          value: \"Login\",\n          disabled: !loginData.password || !loginData.username\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Don't have an account?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(NavLink, {\n          to: \"/userSignUp\",\n          children: \"  Sign Up Here! \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 38\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true);\n};\n\n_s(UserLogin, \"cUj1rDbztKKD+NmfA8XOlMFzGQk=\", false, function () {\n  return [useNavigate];\n});\n\n_c = UserLogin;\nconst Wrapper = styled.div`\n      /* display: flex;\n      justify-content: center;\n      align-items: center;\n      text-align: center;\n      min-height: 100vh; */\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      margin-right: -50%;\n      transform: translate(-50%, -50%);\n      \n    `;\n_c2 = Wrapper;\nconst FormWrapper = styled.form`\n    border-radius: 10px; \n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    border: 4px solid #42c99d;\n    box-shadow: 0px 0px 25px 1px rgb(40,176,255);\n    background: #DDEDEC;\n    width: 300px;\n    height: 300px;\n    `;\n_c3 = FormWrapper;\nconst Input = styled.input`\n    border: none;\n    background: #42c99d;\n    font-size: 16px;\n    height: 35px;\n    margin: 0px 0px 20px 0px;\n    padding:15px;\n    border-radius: 10px; \n    `;\n_c4 = Input;\nconst SubmitInput = styled.input`\n  color: white;\n  font-weight: bold;\n  padding: 12px 35px 12px 35px;\n  margin-bottom: 10px;\n  text-align: center;\n  border: none;\n  border-radius: 10px;\n  background: #42c99d;\n\n  &:hover{\n    color: white;\n    background-color: rgb(40,176,255);\n    transition: 150ms;\n  }\n  &:disabled {\n    cursor: not-allowed;\n    opacity: 0.6;\n  }\n  `;\n_c5 = SubmitInput;\nconst Background = styled.div`\n    background-image: url(${backgroundImage});\n    position: fixed; \n    min-width: 100%;\n    min-height: 100%;\n    background-repeat: no-repeat;\n    background-size: cover;\n    background-position: center;\n    `;\n_c6 = Background;\nexport default UserLogin;\n\nvar _c, _c2, _c3, _c4, _c5, _c6;\n\n$RefreshReg$(_c, \"UserLogin\");\n$RefreshReg$(_c2, \"Wrapper\");\n$RefreshReg$(_c3, \"FormWrapper\");\n$RefreshReg$(_c4, \"Input\");\n$RefreshReg$(_c5, \"SubmitInput\");\n$RefreshReg$(_c6, \"Background\");","map":{"version":3,"sources":["/Users/oliverbloj/Documents/Concordia BootCamp/36.1 WM 5.5.2022/WorkFlow_Management_APP/client/src/components/UserLogin.js"],"names":["React","useContext","styled","backgroundImage","NavLink","useNavigate","DataContext","bcrypt","require","UserLogin","allUsers","loginData","setLoginData","setCurrentLoggedUser","navigate","handleChange","value","name","handleSubmit","ev","preventDefault","findUser","find","user","username","undefined","window","alert","compare","password","err","result","_id","target","Wrapper","div","FormWrapper","form","Input","input","SubmitInput","Background"],"mappings":"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","sourcesContent":["import React, { useContext }  from \"react\";\r\nimport styled from \"styled-components\";\r\nimport backgroundImage from \"../assets/background2.png\";\r\nimport {NavLink, useNavigate} from \"react-router-dom\";\r\nimport { DataContext } from \"./DataContext\";\r\nvar bcrypt = require(\"bcryptjs\");\r\n\r\nconst UserLogin = () =>{\r\n  const {allUsers, loginData, setLoginData, setCurrentLoggedUser} = useContext(DataContext);\r\n    \r\nlet navigate = useNavigate();\r\n\r\n //setting the name of the inputs and values as what is written inside inputs\r\n const handleChange = (value, name) =>{\r\n  setLoginData({...loginData, [name]: value}); \r\n }\r\n\r\n //on submit we get the hashed password from DB and compare to what we inputed in the password field\r\nfunction handleSubmit(ev){\r\n  ev.preventDefault();//prevents the page from refreshing if submit unsuccessfull\r\nconst findUser = allUsers.find((user) => user.username === loginData.username)\r\n\r\nif(findUser === undefined ){\r\n  window.alert(\"Invalid Username or Password!\");\r\n}\r\nelse{\r\n  bcrypt.compare(loginData.password, findUser.password, function(err, result) {\r\n    // result == true\r\n    if(findUser === undefined || result===false){\r\n      window.alert(\"Invalid Username or Password!\");\r\n    }\r\n    else {\r\n      setCurrentLoggedUser(findUser);\r\n      navigate(`/userHome/${findUser._id}`);\r\n     }\r\n  })\r\n}\r\n}\r\n\r\n\r\n\r\n    return (\r\n        <>\r\n          <Background />\r\n          <Wrapper>\r\n            <FormWrapper onSubmit={handleSubmit}>\r\n              <Input type={\"text\"} \r\n              name=\"username\" \r\n              required \r\n              placeholder=\"Username\" \r\n              onChange={(ev)=> handleChange(ev.target.value, \"username\")}/>\r\n  \r\n              <Input type={\"password\"} \r\n              name=\"password\" \r\n              required \r\n              placeholder=\"Password\" \r\n              onChange={(ev)=> handleChange(ev.target.value, \"password\")}/>\r\n  \r\n        <SubmitInput type=\"submit\" \r\n        value=\"Login\" disabled={(!loginData.password || !loginData.username)}/>\r\n\r\n        <p>Don't have an account?</p><NavLink to=\"/userSignUp\">  Sign Up Here! </NavLink>\r\n\r\n            </FormWrapper>\r\n          </Wrapper>\r\n        </>\r\n      );\r\n    }\r\n    \r\n    const Wrapper = styled.div`\r\n      /* display: flex;\r\n      justify-content: center;\r\n      align-items: center;\r\n      text-align: center;\r\n      min-height: 100vh; */\r\n      position: absolute;\r\n      top: 50%;\r\n      left: 50%;\r\n      margin-right: -50%;\r\n      transform: translate(-50%, -50%);\r\n      \r\n    `\r\n    \r\n    const FormWrapper = styled.form`\r\n    border-radius: 10px; \r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: center;\r\n    border: 4px solid #42c99d;\r\n    box-shadow: 0px 0px 25px 1px rgb(40,176,255);\r\n    background: #DDEDEC;\r\n    width: 300px;\r\n    height: 300px;\r\n    `\r\n    \r\n    const Input= styled.input`\r\n    border: none;\r\n    background: #42c99d;\r\n    font-size: 16px;\r\n    height: 35px;\r\n    margin: 0px 0px 20px 0px;\r\n    padding:15px;\r\n    border-radius: 10px; \r\n    `\r\n    \r\n  const SubmitInput = styled.input`\r\n  color: white;\r\n  font-weight: bold;\r\n  padding: 12px 35px 12px 35px;\r\n  margin-bottom: 10px;\r\n  text-align: center;\r\n  border: none;\r\n  border-radius: 10px;\r\n  background: #42c99d;\r\n\r\n  &:hover{\r\n    color: white;\r\n    background-color: rgb(40,176,255);\r\n    transition: 150ms;\r\n  }\r\n  &:disabled {\r\n    cursor: not-allowed;\r\n    opacity: 0.6;\r\n  }\r\n  `\r\n    \r\n    const Background = styled.div`\r\n    background-image: url(${backgroundImage});\r\n    position: fixed; \r\n    min-width: 100%;\r\n    min-height: 100%;\r\n    background-repeat: no-repeat;\r\n    background-size: cover;\r\n    background-position: center;\r\n    `\r\n\r\n\r\nexport default UserLogin;"]},"metadata":{},"sourceType":"module"}